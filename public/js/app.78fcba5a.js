(function(t){function s(s){for(var a,o,n=s[0],l=s[1],c=s[2],m=0,u=[];m<n.length;m++)o=n[m],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&u.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(s);while(u.length)u.shift()();return r.push.apply(r,c||[]),e()}function e(){for(var t,s=0;s<r.length;s++){for(var e=r[s],a=!0,n=1;n<e.length;n++){var l=e[n];0!==i[l]&&(a=!1)}a&&(r.splice(s--,1),t=o(o.s=e[0]))}return t}var a={},i={app:0},r=[];function o(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=a,o.d=function(t,s,e){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)o.d(e,a,function(s){return t[s]}.bind(null,a));return e},o.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=s,n=n.slice();for(var c=0;c<n.length;c++)s(n[c]);var d=l;r.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"0ce7":function(t,s,e){},1339:function(t,s,e){"use strict";e("0ce7")},"56d7":function(t,s,e){"use strict";e.r(s);e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("nav",{staticClass:"navbar navbar-expand navbar-light bg-white osahan-nav-top p-0"},[e("div",{staticClass:"container"},[t._m(0),e("ul",{staticClass:"navbar-nav ml-auto d-flex align-items-center"},[t.isLoggedIn()?e("li",{staticClass:"nav-item dropdown no-arrow mx-1 osahan-list-dropdown"},[""+this.conversations.length?e("router-link",{staticClass:"nav-link dropdown-toggle",attrs:{to:"/conversations"}},[e("i",{staticClass:"feather-message-square mr-2"}),t._v(" Messages ")]):t._e()],1):t._e(),e("li",{staticClass:"nav-item"},[t.isLoggedIn()?t._e():e("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[e("i",{staticClass:"feather-users mr-2"}),e("span",{staticClass:"d-none d-lg-inline"},[t._v("Login")])])],1),e("li",{staticClass:"nav-item"},[t.isLoggedIn()?e("router-link",{staticClass:"nav-link",attrs:{to:"/users/"+t.getUserId()}},[e("i",{staticClass:"feather-users mr-2"}),e("span",{staticClass:"d-none d-lg-inline"},[t._v("Profile")])]):t._e()],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/listings"}},[e("i",{staticClass:"feather-book mr-1"}),e("span",{staticClass:"d-none d-lg-inline"},[t._v("Listings")])])],1),e("li",{staticClass:"nav-item"},[t.isLoggedIn()?e("router-link",{staticClass:"nav-link",attrs:{to:"/logout"}},[e("i",{staticClass:"feather-users mr-1"}),e("span",{staticClass:"d-none d-lg-inline"},[t._v("Logout")])]):t._e()],1)])])]),e("router-view",{key:t.$route.fullPath})],1)},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("a",{staticClass:"navbar-brand mr-2",attrs:{href:"/"}},[e("img",{attrs:{src:"/img/logo.svg",alt:""}})])}],o=e("bc3a"),n=e.n(o),l={data:function(){return{conversations:[],currentUserId:""}},created:function(){this.getUserId(),this.showUser()},methods:{isLoggedIn:function(){return localStorage.getItem("jwt")},getUserId:function(){return localStorage.getItem("user_id")},showUser:function(){var t=this,s=localStorage.getItem("user_id");n.a.get("/users/".concat(s)).then((function(s){t.conversations=s.data}))}}},c=l,d=e("2877"),m=Object(d["a"])(c,i,r,!1,null,null,null),u=m.exports,v=e("8c4f"),g=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"home"},[t._m(0),e("div",{staticClass:"bg-white bg-gradient vh-100"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center align-items-center d-flex"},[e("div",{staticClass:"col-md-4 mx-auto"},[e("div",{staticClass:"osahan-login py-4"},[t._m(1),e("form",{on:{submit:function(s){return s.preventDefault(),t.submit()}}},[e("ul",t._l(t.errors,(function(s){return e("li",{key:s},[t._v(" "+t._s(s)+" ")])})),0),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Email")]),e("div",{staticClass:"position-relative icon-form-control"},[e("i",{staticClass:"feather-user position-absolute"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Password")]),e("div",{staticClass:"position-relative icon-form-control"},[e("i",{staticClass:"feather-unlock position-absolute"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})])]),e("button",{staticClass:"btn btn-primary btn-block text-uppercase",attrs:{type:"submit"}},[t._v(" Sign in ")]),e("div",{staticClass:"d-flex justify-content-center"},[e("span",{staticClass:"m-auto pt-3"},[t._v(" New to ResX? "),e("router-link",{staticClass:"font-weight-bold",attrs:{to:"/signup"}},[t._v("Join now")])],1)])])])])])])])])},p=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"py-5",staticStyle:{"background-color":"#b0c4ed"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mx-auto"},[e("h1",{staticClass:"text-white font-weight-light"},[e("span",{staticClass:"font-weight-bold"},[t._v("ResX")]),t._v(" Login ")])])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"text-center mb-4"},[e("a",{attrs:{href:"/"}},[e("img",{attrs:{src:"/img/logo.svg",alt:""}})]),e("h5",{staticClass:"font-weight-bold mt-3"},[t._v("Welcome Back")]),e("p",{staticClass:"text-muted"},[t._v("Get Outside")])])}],f={data:function(){return{email:"",password:"",errors:[]}},created:function(){},methods:{submit:function(){var t=this,s={email:this.email,password:this.password};n.a.post("/sessions",s).then((function(s){n.a.defaults.headers.common["Authorization"]="Bearer "+s.data.jwt,localStorage.setItem("jwt",s.data.jwt),localStorage.setItem("user_id",s.data.user_id),t.$router.push("/listings")})).catch((function(s){console.log(s.response),t.errors=["Invalid email or password."],t.email="",t.password=""}))}}},h=f,b=Object(d["a"])(h,g,p,!1,null,null,null),C=b.exports,_=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"signup"},[t._m(0),e("div",{staticClass:"bg-white vh-100"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center align-items-center d-flex"},[e("div",{staticClass:"col-md-4 mx-auto"},[e("div",{staticClass:"osahan-login py-4"},[t._m(1),e("form",{on:{submit:function(s){return s.preventDefault(),t.submit()}}},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("First Name")]),e("div",{staticClass:"position-relative icon-form-control"},[e("i",{staticClass:"feather-user position-absolute"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUserParams.first_name,expression:"newUserParams.first_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newUserParams.first_name},on:{input:function(s){s.target.composing||t.$set(t.newUserParams,"first_name",s.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Last Name")]),e("div",{staticClass:"position-relative icon-form-control"},[e("i",{staticClass:"feather-user position-absolute"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUserParams.last_name,expression:"newUserParams.last_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newUserParams.last_name},on:{input:function(s){s.target.composing||t.$set(t.newUserParams,"last_name",s.target.value)}}})])])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Email")]),e("div",{staticClass:"position-relative icon-form-control"},[e("i",{staticClass:"feather-at-sign position-absolute"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUserParams.email,expression:"newUserParams.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.newUserParams.email},on:{input:function(s){s.target.composing||t.$set(t.newUserParams,"email",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Password (6 or more characters)")]),e("div",{staticClass:"position-relative icon-form-control"},[e("i",{staticClass:"feather-unlock position-absolute"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUserParams.password,expression:"newUserParams.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.newUserParams.password},on:{input:function(s){s.target.composing||t.$set(t.newUserParams,"password",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Password Confirmation")]),e("div",{staticClass:"position-relative icon-form-control"},[e("i",{staticClass:"feather-unlock position-absolute"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUserParams.password_confirmation,expression:"newUserParams.password_confirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.newUserParams.password_confirmation},on:{input:function(s){s.target.composing||t.$set(t.newUserParams,"password_confirmation",s.target.value)}}})])]),t._m(2),e("button",{staticClass:"btn btn-primary btn-block text-uppercase",attrs:{type:"submit"}},[t._v(" Sign Up ")]),t._m(3)])])])])])])])},w=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"py-5",staticStyle:{"background-color":"#b0c4ed"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mx-auto"},[e("h1",{staticClass:"text-white font-weight-light"},[e("span",{staticClass:"font-weight-bold"},[t._v("ResX")]),t._v(" Signup ")])])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"text-center mb-4"},[e("a",{attrs:{href:"index.html"}},[e("img",{attrs:{src:"img/logo.svg",alt:""}})]),e("h5",{staticClass:"font-weight-bold mt-3"},[t._v("Join ResX")]),e("p",{staticClass:"text-muted"},[t._v("Get Outside")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("You agree to the Olink "),e("a",{attrs:{href:"#"}},[t._v("User Agreement")]),t._v(", "),e("a",{attrs:{href:"#"}},[t._v("Privacy Policy")]),t._v(", and "),e("a",{attrs:{href:"#"}},[t._v("Cookie Policy")]),t._v(".")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"py-3 d-flex align-item-center"},[e("span",{staticClass:"m-auto"},[t._v(" Already on ResX? "),e("a",{staticClass:"font-weight-bold",attrs:{href:"/"}},[t._v("Sign in")])])])}],x={data:function(){return{newUserParams:{},errors:[]}},methods:{submit:function(){var t=this;n.a.post("/users",this.newUserParams).then((function(s){console.log(s.data);var e={email:t.newUserParams.email,password:t.newUserParams.password};n.a.post("/sessions",e).then((function(s){n.a.defaults.headers.common["Authorization"]="Bearer "+s.data.jwt,localStorage.setItem("jwt",s.data.jwt),localStorage.setItem("user_id",s.data.user_id),t.$router.push("/users/".concat(localStorage.getItem("user_id"),"/edit"))})).catch((function(s){console.log(s.response),t.errors=["Invalid email or password."],t.newUserParams.email="",t.this.newUserParams.password=""}))})).catch((function(s){t.errors=s.response.data.errors}))}}},y=x,P=Object(d["a"])(y,_,w,!1,null,null,null),U=P.exports,k=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"logout"})},$=[],I={created:function(){delete n.a.defaults.headers.common["Authorization"],localStorage.removeItem("jwt"),localStorage.removeItem("user_id"),this.$router.push("/")}},L=I,E=Object(d["a"])(L,k,$,!1,null,null,null),j=E.exports,S=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"users-show"},[e("div",{staticClass:"py-4 bg-light bg-gradient"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("aside",{staticClass:"col col-xl-3 order-xl-1 col-lg-12 order-lg-1 col-12"},[e("div",{staticClass:"\n              box\n              mb-3\n              shadow-sm\n              border\n              rounded\n              bg-white\n              profile-box\n              text-center\n            "},[e("div",{staticClass:"py-4 px-3 border-bottom"},[e("img",{staticClass:"img-fluid mt-2 rounded-circle aspect",attrs:{src:""+t.user.image_url,alt:"Responsive image"}}),e("h5",{staticClass:"font-weight-bold text-dark mb-1 mt-4"},[t._v(" "+t._s(t.user.first_name)+" "+t._s(t.user.last_name)+" ")]),""+t.user.id===""+t.currentUserId?e("router-link",{staticClass:"btn btn-outline-primary pl-4 pr-4 mb-1",attrs:{to:"/users/"+t.user.id+"/edit"}},[t._v("Edit Your Info")]):t._e(),""+t.user.host==="true"&&""+t.user.id===""+t.currentUserId?e("router-link",{staticClass:"btn btn-outline-primary pl-4 pr-4",attrs:{to:"/listings/new"}},[t._v("New Listing")]):t._e()],1),""+t.user.host==="true"?e("div",{staticClass:"d-flex"},[t._m(0),e("div",{staticClass:"col-6 p-3"},[e("h6",{staticClass:"font-weight-bold text-dark mb-1"},[t._v(" "+t._s(t.listings.length)+" ")]),e("p",{staticClass:"mb-0 text-black-50 small"},[t._v("Listings")])])]):e("div",[t._m(1)]),e("div",{staticClass:"overflow-hidden border-top"},[e("a",{staticClass:"font-weight-bold p-3 d-block",attrs:{href:"mailto:"+t.user.email+"?subject=Information Requested About Your Properties"}},[t._v(" Email "+t._s(t.user.first_name)+" ")])])]),e("div",{staticClass:"box shadow-sm border rounded bg-white mb-3"},[t._m(2),e("div",{staticClass:"box-body"},[e("div",{staticClass:"\n                  d-flex\n                  align-items-center\n                  osahan-post-header\n                  p-3\n                  border-bottom\n                  people-list\n                "},[t._m(3),e("div",{staticClass:"font-weight-bold"},[e("div",{staticClass:"text-truncate"},[t._v("Location")]),e("div",{staticClass:"small text-muted"},[t._v(" "+t._s(t.user.city)+", "+t._s(t.user.state)+" ")])])])])]),""+t.user.id===""+t.currentUserId?e("div",{staticClass:"box shadow-sm border rounded bg-white mb-3"},[t._m(4),e("div",{staticClass:"box-body"},t._l(t.conversations,(function(s){return e("div",{key:s.id,staticClass:"\n                  d-flex\n                  align-items-center\n                  osahan-post-header\n                  p-3\n                  border-bottom\n                  people-list\n                "},[t._m(5,!0),e("router-link",{attrs:{to:"/conversations/"+s.id}},[e("div",{staticClass:"font-weight-bold"},[e("div",[t._v(" "+t._s(s.recent_user_name)+" ")]),e("div",{staticClass:"small text-muted"},[t._v(" "+t._s(t._f("truncate")(s.last_message.body,25))+" ")])])])],1)})),0)]):t._e()]),e("main",{staticClass:"\n            col col-xl-6\n            order-xl-2\n            col-lg-12\n            order-lg-2\n            col-md-12 col-sm-12 col-12\n          "},[e("div",{staticClass:"box shadow-sm border rounded bg-white mb-3"},[t._m(6),e("div",{staticClass:"box-body p-3"},[e("p",[t._v(" "+t._s(t.user.about_me)+" ")])])]),""+t.user.host==="true"?e("div",{staticClass:"box shadow-sm border rounded bg-white mb-3"},[t._m(7),t._l(t.listings,(function(s){return e("div",{key:s.id,staticClass:"box-body p-3 border-bottom"},[e("div",{staticClass:"d-flex align-items-top job-item-header pb-2"},[e("div",{staticClass:"mr-2"},[e("router-link",{attrs:{to:"/listings/"+s.id}},[e("h6",{staticClass:"font-weight-bold text-dark mb-0"},[t._v(" "+t._s(s.title)+" ")])]),e("div",{staticClass:"small text-gray-500"},[t._v(" "+t._s(s.availability)+" ")])],1),e("img",{staticClass:"img-fluid ml-auto mb-auto",attrs:{src:""+s.images[0].url,alt:""}})]),e("p",{staticClass:"mb-0"},[t._v(" "+t._s(t._f("truncate")(s.description,200))+" ")])])}))],2):t._e(),""+this.user.id!==""+this.currentUserId?e("form",{on:{submit:function(s){return s.preventDefault(),t.createConversation()}}},[e("div",{staticClass:"w-100 border-top border-bottom"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newMessageBody,expression:"newMessageBody"}],staticClass:"form-control border-0 p-3 shadow-none",attrs:{placeholder:"Write a message…",rows:"2"},domProps:{value:t.newMessageBody},on:{input:function(s){s.target.composing||(t.newMessageBody=s.target.value)}}})]),t._m(8)]):t._e()]),e("aside",{staticClass:"col col-xl-3 order-xl-3 col-lg-12 order-lg-3 col-12"},[e("div",{staticClass:"\n              box\n              shadow-sm\n              mb-3\n              rounded\n              bg-white\n              ads-box\n              text-center\n              overflow-hidden\n            "},[e("img",{staticClass:"img-fluid",attrs:{src:"https://images.unsplash.com/photo-1541560052-3744e48ab80b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxjb2xsZWN0aW9uLXRodW1ibmFpbHx8NDM3MTA5NXx8ZW58MHx8fHw%3D&dpr=1&auto=format&fit=crop&w=291.2&q=60",alt:"Responsive image"}}),t._m(9),t._l(t.urls,(function(s){return e("div",{key:s.id,staticClass:"p-3"},[e("a",{staticClass:"text-truncate",attrs:{href:""+s.personal_url}},[t._v(t._s(t._f("truncate")(s.personal_url,25)))])])}))],2),t._m(10),t._m(11)])])])])])},N=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-6 border-right p-3"},[e("h6",{staticClass:"font-weight-bold text-dark mb-1"},[t._v("Host")]),e("p",{staticClass:"mb-0 text-black-50 small"},[t._v("Confirmed")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row border-right p-3 d-flex justify-content-center"},[e("p",{staticClass:"mb-0 text-black-50 small"},[t._v("User is not a host")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box-title border-bottom p-3"},[e("h6",{staticClass:"m-0"},[t._v("More Info")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"dropdown-list-image mr-3"},[e("img",{staticClass:"rounded-circle",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1zkljrZpwGv9Z5dpl-uO4jzYUlhPkPHQayA&usqp=CAU",alt:""}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box-title border-bottom p-3"},[e("h6",{staticClass:"m-0"},[t._v("Conversations")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"dropdown-list-image mr-3"},[e("img",{staticClass:"rounded-circle",attrs:{src:"/img/p2.png",alt:""}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box-title border-bottom p-3"},[e("h6",{staticClass:"m-0"},[t._v("About Me")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box-title border-bottom p-3"},[e("h6",{staticClass:"m-0"},[t._v("Listings")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"p-3 d-flex align-items-center"},[e("div",{staticClass:"overflow-hidden"}),e("span",{staticClass:"ml-auto"},[e("button",{staticClass:"btn btn-primary btn-sm rounded",attrs:{type:"submit"}},[e("i",{staticClass:"feather-send"}),t._v(" Send ")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"p-3 border-bottom"},[e("h6",{staticClass:"font-weight-bold text-gold"},[t._v("Links")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("a",{attrs:{href:"job-profile.html"}},[e("div",{staticClass:"shadow-sm border rounded bg-white job-item mb-3"},[e("div",{staticClass:"d-flex align-items-center p-3 job-item-header"},[e("div",{staticClass:"overflow-hidden mr-2"},[e("h6",{staticClass:"font-weight-bold text-dark mb-0 text-truncate"},[t._v(" Product Director ")]),e("div",{staticClass:"text-truncate text-primary"},[t._v("Spotify Inc.")]),e("div",{staticClass:"small text-gray-500"},[e("i",{staticClass:"feather-map-pin"}),t._v(" India, Punjab ")])]),e("img",{staticClass:"img-fluid ml-auto",attrs:{src:"/img/l3.png",alt:""}})]),e("div",{staticClass:"\n                  d-flex\n                  align-items-center\n                  p-3\n                  border-top border-bottom\n                  job-item-body\n                "},[e("div",{staticClass:"overlap-rounded-circle"},[e("img",{staticClass:"rounded-circle shadow-sm",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"",src:"/img/p9.png",alt:"","data-original-title":"Sophia Lee"}}),e("img",{staticClass:"rounded-circle shadow-sm",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"",src:"/img/p10.png",alt:"","data-original-title":"John Doe"}}),e("img",{staticClass:"rounded-circle shadow-sm",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"",src:"/img/p11.png",alt:"","data-original-title":"Julia Cox"}}),e("img",{staticClass:"rounded-circle shadow-sm",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"",src:"/img/p10.png",alt:"","data-original-title":"John Doe"}}),e("img",{staticClass:"rounded-circle shadow-sm",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"",src:"/img/p11.png",alt:"","data-original-title":"Julia Cox"}}),e("img",{staticClass:"rounded-circle shadow-sm",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"",src:"/img/p12.png",alt:"","data-original-title":"Robert Cook"}})]),e("span",{staticClass:"font-weight-bold text-muted"},[t._v("18 connections")])]),e("div",{staticClass:"p-3 job-item-footer"},[e("small",{staticClass:"text-gray-500"},[e("i",{staticClass:"feather-clock"}),t._v(" Posted 3 Days ago")])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("a",{attrs:{href:"job-profile.html"}},[e("div",{staticClass:"shadow-sm border rounded bg-white job-item mb-3"},[e("div",{staticClass:"d-flex align-items-center p-3 job-item-header"},[e("div",{staticClass:"overflow-hidden mr-2"},[e("h6",{staticClass:"font-weight-bold text-dark mb-0 text-truncate"},[t._v(" .NET Developer ")]),e("div",{staticClass:"text-truncate text-primary"},[t._v("Invision")]),e("div",{staticClass:"small text-gray-500"},[e("i",{staticClass:"feather-map-pin"}),t._v(" London, UK ")])]),e("img",{staticClass:"img-fluid ml-auto",attrs:{src:"/img/l4.png",alt:""}})]),e("div",{staticClass:"\n                  d-flex\n                  align-items-center\n                  p-3\n                  border-top border-bottom\n                  job-item-body\n                "},[e("div",{staticClass:"overlap-rounded-circle"},[e("img",{staticClass:"rounded-circle shadow-sm",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"",src:"/img/p13.png",alt:"","data-original-title":"Sophia Lee"}}),e("img",{staticClass:"rounded-circle shadow-sm",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"",src:"/img/p1.png",alt:"","data-original-title":"John Doe"}}),e("img",{staticClass:"rounded-circle shadow-sm",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"",src:"/img/p2.png",alt:"","data-original-title":"Julia Cox"}}),e("img",{staticClass:"rounded-circle shadow-sm",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"",src:"/img/p3.png",alt:"","data-original-title":"Robert Cook"}})]),e("span",{staticClass:"font-weight-bold text-muted"},[t._v("18 connections")])]),e("div",{staticClass:"p-3 job-item-footer"},[e("small",{staticClass:"text-gray-500"},[e("i",{staticClass:"feather-clock"}),t._v(" Posted 3 Days ago")])])])])}],M={data:function(){return{user:{},listings:[],conversations:[],newMessageBody:"",urls:[],toggle:!1,currentUserId:localStorage.getItem("user_id"),newConversationId:""}},created:function(){this.showUser(),this.conversationsIndex()},methods:{showUser:function(){var t=this;n.a.get("/users/".concat(this.$route.params.id)).then((function(s){t.user=s.data,t.listings=s.data.listings,t.urls=s.data.personal_urls,console.log(s.data)}))},conversationsIndex:function(){var t=this;n.a.get("/conversations").then((function(s){t.conversations=s.data})).catch((function(s){t.errors=s.response.data.errors}))},createConversation:function(){var t=this,s={receiver_id:this.user.id};n.a.post("/conversations",s).then((function(s){console.log(s.data),t.newConversationId=s.data.id;var e={user_id:t.currentUserId,body:t.newMessageBody,conversation_id:t.newConversationId};n.a.post("/messages",e).then((function(s){console.log(s.data),t.newMessageBody=""})).catch((function(s){t.errors=s.response.data.errors,console.log(t.errors)})),t.$router.push("/conversations/".concat(t.newConversationId))})).catch((function(s){t.errors=s.response.data.errors,console.log(t.errors)}))}}},A=M,R=(e("1339"),Object(d["a"])(A,S,N,!1,null,null,null)),O=R.exports,D=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"users-edit"},[t._m(0),e("div",{staticClass:"bg-white"},[e("div",{staticClass:"container"},[e("div",{staticClass:"col-md-4 mx-auto"},[e("div",{staticClass:"osahan-login py-4"},[t._m(1),e("form",{on:{submit:function(s){return s.preventDefault(),t.editUser()}}},[e("ul",t._l(t.errors,(function(s){return e("li",{key:s,staticClass:"text-danger"},[t._v(" "+t._s(s)+" ")])})),0),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("First name")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editUserParams.first_name,expression:"editUserParams.first_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.editUserParams.first_name},on:{input:function(s){s.target.composing||t.$set(t.editUserParams,"first_name",s.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Last name")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editUserParams.last_name,expression:"editUserParams.last_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.editUserParams.last_name},on:{input:function(s){s.target.composing||t.$set(t.editUserParams,"last_name",s.target.value)}}})])])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Email")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editUserParams.email,expression:"editUserParams.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.editUserParams.email},on:{input:function(s){s.target.composing||t.$set(t.editUserParams,"email",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Password (6 or more characters)")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editUserParams.password,expression:"editUserParams.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.editUserParams.password},on:{input:function(s){s.target.composing||t.$set(t.editUserParams,"password",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Password Confirmation")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editUserParams.password_confirmation,expression:"editUserParams.password_confirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.editUserParams.password_confirmation},on:{input:function(s){s.target.composing||t.$set(t.editUserParams,"password_confirmation",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Phone Number")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editUserParams.phone_number,expression:"editUserParams.phone_number"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.editUserParams.phone_number},on:{input:function(s){s.target.composing||t.$set(t.editUserParams,"phone_number",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Address")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editUserParams.address,expression:"editUserParams.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.editUserParams.address},on:{input:function(s){s.target.composing||t.$set(t.editUserParams,"address",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("City")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editUserParams.city,expression:"editUserParams.city"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.editUserParams.city},on:{input:function(s){s.target.composing||t.$set(t.editUserParams,"city",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("State")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editUserParams.state,expression:"editUserParams.state"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.editUserParams.state},on:{input:function(s){s.target.composing||t.$set(t.editUserParams,"state",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Image URL (only)")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editUserParams.image_url,expression:"editUserParams.image_url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.editUserParams.image_url},on:{input:function(s){s.target.composing||t.$set(t.editUserParams,"image_url",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Tell Us About You")]),e("div",{staticClass:"position-relative"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editUserParams.about_me,expression:"editUserParams.about_me"}],staticClass:"form-control",attrs:{rows:"7",cols:"10",type:"text"},domProps:{value:t.editUserParams.about_me},on:{input:function(s){s.target.composing||t.$set(t.editUserParams,"about_me",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"d-flex justify-content-center",attrs:{for:"true"}},[t._v("Are you planning to host?")]),e("div",{staticClass:"d-flex justify-content-center"},[e("label",{staticClass:"pr-1"},[t._v("Yes")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editUserParams.host,expression:"editUserParams.host"}],attrs:{type:"radio",value:"true"},domProps:{checked:t._q(t.editUserParams.host,"true")},on:{change:function(s){return t.$set(t.editUserParams,"host","true")}}})]),e("div",{staticClass:"d-flex justify-content-center"},[e("label",{staticClass:"pr-1",attrs:{for:"false"}},[t._v("No")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editUserParams.host,expression:"editUserParams.host"}],attrs:{type:"radio",value:"false"},domProps:{checked:t._q(t.editUserParams.host,"false")},on:{change:function(s){return t.$set(t.editUserParams,"host","false")}}})])]),e("input",{staticClass:"btn btn-primary btn-block text-uppercase",attrs:{type:"submit",value:"Submit"}})]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"home",role:"tabpanel","aria-labelledby":"home-tab"}},[e("div",{staticClass:"p-3"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("New Social Media Link")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUrl,expression:"newUrl"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newUrl},on:{input:function(s){s.target.composing||(t.newUrl=s.target.value)}}})])]),e("button",{staticClass:"btn btn-block btn-primary text-uppercase mb-3",on:{click:function(s){return t.addUrl(t.urlParameter)}}},[t._v(" Add Your Link ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"small text-gray-500"},[t._v(" Click on link to delete social media url ")]),t._l(t.urls,(function(s){return e("div",{key:s.id},[e("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:function(e){return t.destroyUrl(s)}}},[t._v(" "+t._s(s.personal_url)+" ")])])}))],2)])])])]),t._m(2)]),e("button",{staticClass:"btn btn-primary btn-block text-uppercase mb-3",on:{click:function(s){return t.destroyUser()}}},[t._v(" Delete User ")])])])])])},B=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"py-5",staticStyle:{"background-color":"#b0c4ed"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mx-auto"},[e("h1",{staticClass:"text-white font-weight-light"},[e("span",{staticClass:"font-weight-bold"},[t._v("ResX")]),t._v(" Edit Your Info ")])])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"text-center mb-4"},[e("a",{attrs:{href:"/"}},[e("img",{attrs:{src:"/img/logo.svg",alt:""}})]),e("h5",{staticClass:"font-weight-bold mt-3"},[t._v("Join ResX")]),e("p",{staticClass:"text-muted"},[t._v("Find a Lease Near You")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("You agree to the ResX "),e("a",{attrs:{href:"#"}},[t._v("User Agreement")]),t._v(", "),e("a",{attrs:{href:"#"}},[t._v("Privacy Policy")]),t._v(", and "),e("a",{attrs:{href:"#"}},[t._v("Cookie Policy")]),t._v(".")])])}],T=(e("a434"),{data:function(){return{editUserParams:{},errors:[],newUrl:"",urls:[],urlParameter:""}},created:function(){this.showUser()},methods:{showUser:function(){var t=this;n.a.get("/users/".concat(this.$route.params.id)).then((function(s){t.editUserParams=s.data,t.urls=s.data.personal_urls,console.log(t.urls)})).catch((function(s){t.errors=s.response.data.errors,console.log(t.errors)}))},addUrl:function(t){var s=this;n.a.post("/personal_urls",{user_id:this.editUserParams.id,personal_url:this.newUrl}).then((function(e){s.urls.push(t),console.log(e.data),s.newUrl=""})).catch((function(t){s.errors=t.response.data.errors}))},editUser:function(){var t=this;n.a.patch("/users/".concat(this.$route.params.id),this.editUserParams).then((function(s){console.log(s.data),t.$router.push({name:"users-show",params:{id:"".concat(s.data.id)}})})).catch((function(s){t.errors=s.response.data.errors,console.log(t.errors)}))},destroyUser:function(){var t=this;confirm("Are you sure you want to leave us?")&&n.a.delete("/users/".concat(this.$route.params.id)).then((function(s){console.log(s),delete n.a.defaults.headers.common["Authorization"],localStorage.removeItem("jwt"),localStorage.removeItem("user_id"),t.$router.push("/signup")})).catch((function(t){console.log(t.response)}))},destroyUrl:function(t){var s=this;console.log(t.id),confirm("Are you sure you want to delete this URL?")&&n.a.delete("/personal_urls/".concat(t.id)).then((function(e){var a=s.urls.indexOf(t);s.urls.splice(a,1),console.log(e.data)})).catch((function(t){s.errors=t.response.data.errors,console.log(s.errors)}))}}}),X=T,J=Object(d["a"])(X,D,B,!1,null,null,null),Y=J.exports,q=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"conversations"},[t._m(0),e("div",{staticClass:"py-4 bg-light bg-gradient vh-100"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("main",{staticClass:"\n            col\n            order-xl-2\n            col-lg-12\n            order-lg-1\n            col-md-12 col-sm-12 col-12\n          "},[e("div",{staticClass:"box shadow-sm rounded bg-white mb-3 osahan-chat"},[e("h5",{staticClass:"pl-3 pt-3 pr-3 border-bottom mb-0 pb-3"},[t._v("Messaging")]),e("div",{staticClass:"row m-0"},[e("div",{staticClass:"border-right col-lg-5 col-xl-4 px-0"},[e("div",{staticClass:"osahan-chat-left"},[t._m(1),e("div",{staticClass:"osahan-chat-list"},t._l(t.conversations,(function(s){return e("div",{key:s.id,staticClass:"\n                        p-3\n                        d-flex\n                        align-items-center\n                        border-bottom\n                        osahan-post-header\n                        overflow-hidden\n                      "},[e("router-link",{attrs:{to:"/conversations/"+s.id}},[e("div",{staticClass:"font-weight-bold mr-1 overflow-hidden"},[e("div",{staticClass:"text-truncate"},[t._v(" "+t._s(s.recent_user_name)+" ")]),e("div",{staticClass:"\n                              small\n                              text-truncate\n                              overflow-hidden\n                              text-black-50\n                            "},[e("i",{staticClass:"text-primary"}),t._v(" "+t._s(s.last_message.body)+" ")])])])],1)})),0)])]),e("div",{staticClass:"col-lg-7 col-xl-8 px-0"},[t._m(2),e("div",{staticClass:"\n                    osahan-chat-box\n                    p-3\n                    border-top border-bottom\n                    bg-white\n                  "},t._l(t.conversation.messages,(function(s){return e("div",{key:s.id,staticClass:"d-flex align-items-center osahan-post-header"},[e("div",{staticClass:"dropdown-list-image mr-3 mb-3"},[e("img",{staticClass:"rounded-circle",attrs:{src:""+s.user.image_url,alt:""}})]),e("div",{staticClass:"mr-1"},[t.currentUserId==t.conversation.receiver_id?e("div",{staticClass:"h6 mb-4"},[t._v(" "+t._s(s.user.first_name)+" "+t._s(s.user.last_name)+" ")]):e("div",{staticClass:"text-truncate"},[t._v(" "+t._s(s.user.first_name)+" "+t._s(s.user.last_name)+" ")]),e("p",[t._v(" "+t._s(s.body)+" ")])]),e("span",{staticClass:"ml-auto mb-auto"},[e("div",{staticClass:"text-right text-muted pt-1 small"},[t._v(" "+t._s(s.created_at)+" ")])])])})),0),e("form",{on:{submit:function(s){return s.preventDefault(),t.createConversation()}}},[e("div",{staticClass:"w-100 border-top border-bottom"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newMessageBody,expression:"newMessageBody"}],staticClass:"form-control border-0 p-3 shadow-none",attrs:{placeholder:"Write a message…",rows:"2"},domProps:{value:t.newMessageBody},on:{input:function(s){s.target.composing||(t.newMessageBody=s.target.value)}}})]),t._m(3)])])])])])])])])])},z=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"py-5",staticStyle:{"background-color":"#b0c4ed"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mx-auto"},[e("h1",{staticClass:"text-white font-weight-light"},[e("span",{staticClass:"font-weight-bold"},[t._v("ResX")]),t._v(" Messages ")])])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"\n                      position-relative\n                      icon-form-control\n                      p-3\n                      border-bottom\n                    "},[e("i",{staticClass:"feather-search position-absolute"}),e("input",{staticClass:"form-control",attrs:{placeholder:"Search messages",type:"text"}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"\n                    p-3\n                    d-flex\n                    align-items-center\n                    border-bottom\n                    osahan-post-header\n                  "},[e("div",{staticClass:"font-weight-bold mr-1 overflow-hidden"},[e("div",{staticClass:"text-truncate"},[t._v("Conversation")]),e("div",{staticClass:"\n                        small\n                        text-truncate\n                        overflow-hidden\n                        text-black-50\n                      "},[t._v(" Strike up a conversation on another user's profile ")])]),e("span",{staticClass:"ml-auto"},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"}},[e("i",{staticClass:"feather-trash"}),t._v(" Delete ")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"p-3 d-flex align-items-center"},[e("div",{staticClass:"overflow-hidden"}),e("span",{staticClass:"ml-auto"})])}],H=e("f5ee"),W=e.n(H),Z=e("a7c6"),G=e.n(Z),F={mixins:[G.a.mixin],data:function(){return{errors:[],conversations:[],conversation:[],newMessageBody:"",currentUserId:localStorage.getItem("user_id")}},created:function(){var t=this;n.a.get("/conversations").then((function(s){t.conversations=s.data,console.log(t.conversations)}));var s=W.a.createConsumer("ws://localhost:3000/cable");s.subscriptions.create("MessagesChannel",{connected:function(){console.log("Connected to MessagesChannel")},disconnected:function(){},received:function(s){console.log("Data from MessagesChannel:",s),t.conversation.messages.push(s),t.conversations.messages.push(s)}})},methods:{createConversation:function(){var t=this,s={sender_id:this.currentUserId,receiver_id:this.currentUserId};n.a.post("/conversations",s).then((function(s){console.log(s.data),t.newConversationId=s.data.id;var e={user_id:t.currentUserId,body:t.newMessageBody,conversation_id:t.newConversationId};n.a.post("/messages",e).then((function(s){console.log(s.data),t.newMessageBody=""})).catch((function(s){t.errors=s.response.data.errors,console.log(t.errors)})),t.$router.push("/conversations/".concat(t.newConversationId))})).catch((function(s){t.errors=s.response.data.errors,console.log(t.errors)}))}}},Q=F,K=Object(d["a"])(Q,q,z,!1,null,null,null),V=K.exports,tt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"conversation-show"},[t._m(0),e("div",{staticClass:"py-4 bg-light bg-gradient vh-100"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("main",{staticClass:"\n            col\n            order-xl-2\n            col-lg-12\n            order-lg-1\n            col-md-12 col-sm-12 col-12\n          "},[e("div",{staticClass:"box shadow-sm rounded bg-white mb-3 osahan-chat"},[e("h5",{staticClass:"pl-3 pt-3 pr-3 border-bottom mb-0 pb-3"},[t._v("Messaging")]),e("div",{staticClass:"row m-0"},[e("div",{staticClass:"border-right col-lg-5 col-xl-4 px-0"},[e("div",{staticClass:"osahan-chat-left"},[t._m(1),e("div",{staticClass:"osahan-chat-list"},t._l(t.conversations,(function(s){return e("div",{key:s.id,staticClass:"\n                        p-3\n                        d-flex\n                        align-items-center\n                        border-bottom\n                        osahan-post-header\n                        overflow-hidden\n                      "},[e("router-link",{attrs:{to:"/conversations/"+s.id}},[e("div",{staticClass:"font-weight-bold mr-1 overflow-hidden"},[e("div",{staticClass:"text-truncate"},[t._v(" "+t._s(s.recent_user_name)+" ")]),e("div",{staticClass:"\n                              small\n                              text-truncate\n                              overflow-hidden\n                              text-black-50\n                            "},[e("i",{staticClass:"text-primary"}),t._v(" "+t._s(s.last_message.body)+" ")])])])],1)})),0)])]),e("div",{staticClass:"col-lg-7 col-xl-8 px-0"},[e("div",{staticClass:"\n                    p-3\n                    d-flex\n                    align-items-center\n                    border-bottom\n                    osahan-post-header\n                  "},[t._m(2),e("span",{staticClass:"ml-auto"},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(s){return t.destroyConversation(t.conversation)}}},[e("i",{staticClass:"feather-trash"}),t._v(" Delete ")])])]),e("div",{staticClass:"\n                    osahan-chat-box\n                    p-3\n                    border-top border-bottom\n                    bg-white\n                  "},t._l(t.conversation.messages,(function(s){return e("div",{key:s.id,staticClass:"d-flex align-items-center osahan-post-header"},[e("div",{staticClass:"dropdown-list-image mr-3 mb-3"},[e("img",{staticClass:"rounded-circle",attrs:{src:""+s.user.image_url,alt:""}})]),e("div",{staticClass:"mr-1"},[(t.currentUserId,t.conversation.receiver_id,e("div",{staticClass:"text-truncate"},[t._v(" "+t._s(s.user.first_name)+" "+t._s(s.user.last_name)+" ")])),e("p",[t._v(" "+t._s(s.body)+" ")])]),e("span",{staticClass:"ml-auto mb-auto"},[e("div",{staticClass:"text-right text-muted pt-1 small"},[t._v(" "+t._s(s.created_at)+" ")])])])})),0),e("form",{on:{submit:function(s){return s.preventDefault(),t.newMessage()}}},[e("div",{staticClass:"w-100 border-top border-bottom"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newMessageBody,expression:"newMessageBody"}],staticClass:"form-control border-0 p-3 shadow-none",attrs:{placeholder:"Write a message…",rows:"2"},domProps:{value:t.newMessageBody},on:{input:function(s){s.target.composing||(t.newMessageBody=s.target.value)}}})]),t._m(3)])])])])])])])])])},st=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"py-5",staticStyle:{"background-color":"#b0c4ed"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mx-auto"},[e("h1",{staticClass:"text-white font-weight-light"},[e("span",{staticClass:"font-weight-bold"},[t._v("ResX")]),t._v(" Messages ")])])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"\n                      position-relative\n                      icon-form-control\n                      p-3\n                      border-bottom\n                    "},[e("i",{staticClass:"feather-search position-absolute"}),e("input",{staticClass:"form-control",attrs:{placeholder:"Search messages",type:"text"}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"font-weight-bold mr-1 overflow-hidden"},[e("div",{staticClass:"text-truncate"},[t._v("Conversation")]),e("div",{staticClass:"\n                        small\n                        text-truncate\n                        overflow-hidden\n                        text-black-50\n                      "},[t._v(" Discuss your favorite spots ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"p-3 d-flex align-items-center"},[e("div",{staticClass:"overflow-hidden"}),e("span",{staticClass:"ml-auto"},[e("button",{staticClass:"btn btn-primary btn-sm rounded",attrs:{type:"submit"}},[e("i",{staticClass:"feather-send"}),t._v(" Send ")])])])}],et={mixins:[G.a.mixin],data:function(){return{errors:[],conversations:[],conversation:{},newMessageBody:"",currentUserId:localStorage.getItem("user_id")}},created:function(){var t=this;n.a.get("/conversations").then((function(s){t.conversations=s.data,console.log(t.conversations)})),n.a.get("/conversations/".concat(this.$route.params.id)).then((function(s){t.conversation=s.data,console.log(t.conversation)})).catch((function(s){t.errors=s.response.data.errors,console.log(t.errors)}));var s=W.a.createConsumer("ws://localhost:3000/cable");s.subscriptions.create("MessagesChannel",{connected:function(){console.log("Connected to MessagesChannel")},disconnected:function(){},received:function(s){console.log("Data from MessagesChannel:",s),t.conversation.messages.push(s)}})},methods:{newMessage:function(){var t=this,s={user_id:this.currentUserId,body:this.newMessageBody,conversation_id:this.conversation.id};n.a.post("/messages",s).then((function(s){console.log(s.data),t.newMessageBody=""})).catch((function(s){t.errors=s.response.data.errors,console.log(t.errors)}))},destroyConversation:function(t){var s=this;console.log(t.id),confirm("Are you sure you want to delete this conversation?")&&n.a.delete("/conversations/".concat(t.id)).then((function(e){var a=s.conversations.indexOf(t);s.conversations.splice(a,1),console.log(e.data),s.$router.push("/conversations")})).catch((function(t){s.errors=t.response.data.errors,console.log(s.errors)}))}}},at=et,it=Object(d["a"])(at,tt,st,!1,null,null,null),rt=it.exports,ot=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"listings"},[t._m(0),e("div",{staticClass:"bg-white bg-gradient d-flex justify-content-center pt-3"},[e("h5",{staticClass:"my-auto mr-2"},[t._v("Search for listing:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],attrs:{type:"text",list:"address",placeholder:"Keyword"},domProps:{value:t.searchTerm},on:{input:function(s){s.target.composing||(t.searchTerm=s.target.value)}}})]),e("div",{staticClass:"py-5 bg-white bg-gradient"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 col-md-12"},[e("div",{staticClass:"row"},t._l(t.filterBy(t.listings,t.searchTerm),(function(s){return e("div",{key:s.id,staticClass:"col-lg-4 col-md-4 pb-4"},[e("div",{staticClass:"\n                  box\n                  shadow-sm\n                  rounded\n                  bg-light.bg-gradient\n                  mb-3\n                  blog-card\n                  border\n                  h-100\n                "},[e("router-link",{attrs:{to:"/listings/"+s.id}},[e("img",{staticClass:"card-img-top image-fit",attrs:{src:""+s.images[0].url,alt:"Card image cap"}})]),e("div",{staticClass:"card-body"},[e("span",{staticClass:"badge badge-success"}),e("h6",{staticClass:"text-dark"},[t._v(t._s(s.title))]),e("p",{staticClass:"mb-0"},[t._v(" "+t._s(t._f("truncate")(s.description,100))+" ")]),t.isLoggedIn()?e("p",{staticClass:"pt-4"},[t._v(" "+t._s(s.address)+" ")]):t._e()]),t.isLoggedIn()?e("div",{staticClass:"card-footer mt-auto border-top bg-white"},[e("router-link",{attrs:{to:"/users/"+s.user.id}},[e("p",{staticClass:"mb-0"},[e("img",{staticClass:"rounded-circle thumbnail",attrs:{src:""+s.user.image_url,alt:"Card image cap"}}),e("strong",[t._v(t._s(s.user.first_name)+" "+t._s(s.user.last_name))])])])],1):t._e()],1)])})),0)])])])])])},nt=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"py-5",staticStyle:{"background-color":"#b0c4ed"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mx-auto"},[e("h1",{staticClass:"text-white font-weight-light"},[e("span",{staticClass:"font-weight-bold"},[t._v("ResX")]),t._v(" Listings Index ")])])])])])}],lt={mixins:[G.a.mixin],data:function(){return{message:"Listings",listings:[],sortAttribute:"created_at",sortDirection:1,searchTerm:""}},created:function(){this.listingsIndex()},methods:{listingsIndex:function(){var t=this;n.a.get("/listings").then((function(s){t.listings=s.data,console.log(t.listings)})).catch((function(s){t.errors=s.response.data.errors,console.log(t.errors)}))},sortByAttribute:function(t){this.sortAttribute==t||(this.sortAttribute=t),this.sortDirection=-1*this.sortDirection},isLoggedIn:function(){return localStorage.getItem("jwt")}}},ct=lt,dt=(e("eca3"),Object(d["a"])(ct,ot,nt,!1,null,null,null)),mt=dt.exports,ut=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"listings-new"},[t._m(0),e("div",{staticClass:"bg-white vh-100"},[e("div",{staticClass:"container"},[e("div",{staticClass:"col-md-4 mx-auto"},[e("div",{staticClass:"osahan-login py-4"},[t._m(1),e("form",{on:{submit:function(s){return s.preventDefault(),t.newListing()}}},[e("ul",t._l(t.errors,(function(s){return e("li",{key:s,staticClass:"text-danger"},[t._v(" "+t._s(s)+" ")])})),0),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Title")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newListingParams.title,expression:"newListingParams.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newListingParams.title},on:{input:function(s){s.target.composing||t.$set(t.newListingParams,"title",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Address")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newListingParams.address,expression:"newListingParams.address"}],staticClass:"form-control",domProps:{value:t.newListingParams.address},on:{input:function(s){s.target.composing||t.$set(t.newListingParams,"address",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Description")]),e("div",{staticClass:"position-relative"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newListingParams.description,expression:"newListingParams.description"}],staticClass:"form-control",attrs:{rows:"7",cols:"10"},domProps:{value:t.newListingParams.description},on:{input:function(s){s.target.composing||t.$set(t.newListingParams,"description",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Price")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newListingParams.price,expression:"newListingParams.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newListingParams.price},on:{input:function(s){s.target.composing||t.$set(t.newListingParams,"price",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Availability")]),e("div",{staticClass:"position-relative"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newListingParams.availability,expression:"newListingParams.availability"}],staticClass:"form-control",attrs:{rows:"5",cols:"10"},domProps:{value:t.newListingParams.availability},on:{input:function(s){s.target.composing||t.$set(t.newListingParams,"availability",s.target.value)}}})])]),t._m(2),t._m(3)]),t._m(4),e("div")])])])])])},vt=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"py-5",staticStyle:{"background-color":"#b0c4ed"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mx-auto"},[e("h1",{staticClass:"text-white font-weight-light"},[e("span",{staticClass:"font-weight-bold"},[t._v("ResX")]),t._v(" New Listing ")])])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"text-center mb-4"},[e("a",{attrs:{href:"/"}},[e("img",{attrs:{src:"/img/logo.svg",alt:""}})]),e("h5",{staticClass:"font-weight-bold mt-3"},[t._v("New Listing")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("button",{staticClass:"btn btn-primary btn-block text-uppercase mb-3",attrs:{type:"submit"}},[t._v(" Submit ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("You agree to the ResX "),e("a",{attrs:{href:"#"}},[t._v("User Agreement")]),t._v(", "),e("a",{attrs:{href:"#"}},[t._v("Privacy Policy")]),t._v(", and "),e("a",{attrs:{href:"#"}},[t._v("Cookie Policy")]),t._v(".")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-group"},[e("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"home",role:"tabpanel","aria-labelledby":"home-tab"}})])])}],gt={data:function(){return{newListingParams:{},errors:[]}},created:function(){},methods:{newListing:function(){var t=this;n.a.post("/listings",this.newListingParams).then((function(s){console.log(s.data),t.$router.push("/listings/".concat(s.data.id,"/edit"))})).catch((function(s){t.errors=s.response.data.errors}))}}},pt=gt,ft=Object(d["a"])(pt,ut,vt,!1,null,null,null),ht=ft.exports,bt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"listings-show"},[t._m(0),e("div",{staticClass:"py-5 bg-light bg-gradient"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-8 col-md-8"},[e("main",{staticClass:"\n              blog-card\n              padding-card\n              box\n              shadow-sm\n              rounded\n              bg-white\n              mb-3\n              border-0\n            "},[e("div",{staticClass:"\n                box\n                shadow-sm\n                border\n                rounded\n                bg-white\n                mb-3\n                osahan-share-post\n              "},[e("h5",{staticClass:"pl-3 pt-3 pr-3 border-bottom mb-0 pb-3"},[t._v("Images")]),e("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"home",role:"tabpanel","aria-labelledby":"home-tab"}},[e("div",{staticClass:"p-3"},[e("div",{staticClass:"row"},t._l(t.images,(function(s){return e("div",{key:s.id,staticClass:"col-md-4 mb-3"},[e("div",[e("img",{staticClass:"card-img-top image-size",attrs:{src:s.url,alt:"Card image cap"},on:{click:function(e){return t.imageShow(s)}}}),e("dialog",{staticClass:"border-0",attrs:{id:"photo-details"}},[e("form",{attrs:{method:"dialog"}},[e("img",{attrs:{src:""+t.currentImage.url}}),e("br"),e("button",{staticClass:"btn btn-primary modal-button"},[t._v(" Close ")])])])])])})),0)])])])])]),e("div",{staticClass:"\n              blog-card\n              padding-card\n              box\n              shadow-sm\n              rounded\n              bg-white\n              mb-3\n              border-0\n            "},[e("div",{staticClass:"card-body"},[e("span",{staticClass:"badge badge-success"},[t._v("Lease Available")]),e("h2",[t._v(t._s(t.listing.title))]),e("h6",{staticClass:"mb-3"},[e("i",{staticClass:"feather-calendar"}),t._v(" "+t._s(t.listing.created_at)+" ")]),e("h6",{staticClass:"font-weight-light"},[t._v(t._s(t.listing.description))])]),e("div",{staticClass:"card-footer border-0 bg-white border-top"},[e("div",{staticClass:"footer"},[e("span",[t._v("Listing User:")]),e("router-link",{attrs:{to:"/users/"+t.user.id}},[t._v(" "+t._s(t.user.first_name)+" "+t._s(t.user.last_name))]),e("p",[""+this.currentUserId==""+t.user.id?e("router-link",{attrs:{to:"/listings/"+t.listing.id+"/edit"}},[t._v("Edit Listing")]):t._e()],1)],1)])]),t._m(1)]),e("div",{staticClass:"col-lg-4 col-md-4"},[e("div",{staticClass:"sidebar-card box shadow-sm rounded bg-white mb-3 border-0"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title mb-3"},[t._v("Available Dates Remaining")]),e("h6",[t._v(t._s(t.listing.availability))])])]),e("div",{staticClass:"sidebar-card box shadow-sm rounded bg-white mb-3 border-0"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title mb-4"},[t._v("Address")]),e("h6",[t._v(t._s(t.listing.address))]),e("p",[t._v("Map below")])])]),e("div",{staticClass:"sidebar-card box shadow-sm rounded bg-white mb-3 border-0"},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title mb-4"},[t._v("Email the Host")]),e("form",{attrs:{action:"https://formspree.io/f/xpzkjzkg",method:"POST",name:"sentMessage"}},[t._m(2),e("div",{staticClass:"control-group form-group"},[e("div",{staticClass:"controls"},[t._m(3),e("textarea",{staticClass:"form-control",attrs:{placeholder:"I am interested in your listing at "+t.listing.address,name:"message",rows:"10",cols:"100"}})])]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(" Request Reservation! ")])])])])])])])])])},Ct=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"py-5",staticStyle:{"background-color":"#b0c4ed"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mx-auto"},[e("h1",{staticClass:"text-white font-weight-light"},[e("span",{staticClass:"font-weight-bold"},[t._v("ResX")]),t._v(" Listing Details ")])])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"\n                padding-card\n                box\n                shadow-sm\n                rounded\n                bg-white\n                mb-3\n                border-0\n              "},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title mb-4 d-flex justify-content-center"},[t._v(" Pin below marks location ")]),e("div",{attrs:{id:"map"}}),e("div",[e("div",{staticClass:"d-flex justify-content-center mt-3",attrs:{id:"menu"}},[e("label",{staticClass:"pr-1",attrs:{for:"satellite-v9"}},[t._v("Satellite")]),e("input",{attrs:{id:"satellite-v9",type:"radio",name:"rtoggle",value:"satellite",checked:"checked"}}),e("label",{staticClass:"pl-3 pr-1",attrs:{for:"streets-v11"}},[t._v("Streets")]),e("input",{attrs:{id:"streets-v11",type:"radio",name:"rtoggle",value:"streets"}})])])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"control-group form-group"},[e("div",{staticClass:"controls"},[e("label",[t._v("Name "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("input",{staticClass:"form-control",attrs:{placeholder:"Name",type:"text",required:""}})]),e("div",{staticClass:"controls"},[e("label",[t._v("Your Email "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("input",{staticClass:"form-control",attrs:{name:"_replyto",placeholder:"Email",type:"email",required:""}})])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("label",[t._v("Message "),e("span",{staticClass:"text-danger"},[t._v("*")])])}],_t={data:function(){return{message:"Listing Show Page",listing:[],images:[],currentImage:{},user:{},currentUserId:localStorage.getItem("user_id")}},created:function(){this.listingsShow()},methods:{imageShow:function(t){this.currentImage=t,document.querySelector("#photo-details").showModal()},listingsShow:function(){var t=this;n.a.get("/listings/".concat(this.$route.params.id)).then((function(s){console.log(s.data),t.listing=s.data,t.images=s.data.images,t.user=s.data.user,mapboxgl.accessToken="pk.eyJ1Ijoid2lsbGlhbXRwZXR0eSIsImEiOiJja3B6d2t4YTIwN2JoMnR0bHliNnlhN3JxIn0.6ldMEPx_v-r54M-OZ_QCeQ";var e=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/satellite-v9",center:[t.listing.longitude,t.listing.latitude],zoom:11}),a=new mapboxgl.Popup({offset:25}).setText("".concat(t.listing.address)),i=new mapboxgl.Marker({draggable:!1}).setLngLat([t.listing.longitude,t.listing.latitude]).setPopup(a).addTo(e);console.log(i);var r=document.getElementById("menu"),o=r.getElementsByTagName("input");function n(t){var s=t.target.id;e.setStyle("mapbox://styles/mapbox/"+s)}for(var l=0;l<o.length;l++)o[l].onclick=n})).catch((function(t){console.log(t.response)}))}}},wt=_t,xt=(e("784e"),Object(d["a"])(wt,bt,Ct,!1,null,null,null)),yt=xt.exports,Pt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"listings-edit"},[t._m(0),e("div",{staticClass:"bg-white bg-gradient"},[e("div",{staticClass:"container"},[e("div",{staticClass:"col-md-4 mx-auto"},[e("div",{staticClass:"osahan-login py-4"},[t._m(1),e("form",{on:{submit:function(s){return s.preventDefault(),t.editListing()}}},[e("ul",t._l(t.errors,(function(s){return e("li",{key:s,staticClass:"text-danger"},[t._v(" "+t._s(s)+" ")])})),0),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Title")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editListingParams.title,expression:"editListingParams.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.editListingParams.title},on:{input:function(s){s.target.composing||t.$set(t.editListingParams,"title",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Address")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editListingParams.address,expression:"editListingParams.address"}],staticClass:"form-control",domProps:{value:t.editListingParams.address},on:{input:function(s){s.target.composing||t.$set(t.editListingParams,"address",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Description")]),e("div",{staticClass:"position-relative"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editListingParams.description,expression:"editListingParams.description"}],staticClass:"form-control",attrs:{rows:"7",cols:"10"},domProps:{value:t.editListingParams.description},on:{input:function(s){s.target.composing||t.$set(t.editListingParams,"description",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Price")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editListingParams.price,expression:"editListingParams.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.editListingParams.price},on:{input:function(s){s.target.composing||t.$set(t.editListingParams,"price",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("Availability")]),e("div",{staticClass:"position-relative"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editListingParams.availability,expression:"editListingParams.availability"}],staticClass:"form-control",attrs:{rows:"5",cols:"10"},domProps:{value:t.editListingParams.availability},on:{input:function(s){s.target.composing||t.$set(t.editListingParams,"availability",s.target.value)}}})])]),t._m(2),t._m(3)]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"home",role:"tabpanel","aria-labelledby":"home-tab"}},[e("div",{staticClass:"p-3"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("New Image URL")]),e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newImage.url,expression:"newImage.url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newImage.url},on:{input:function(s){s.target.composing||t.$set(t.newImage,"url",s.target.value)}}})])]),e("button",{staticClass:"btn btn-block btn-primary text-uppercase mb-3",on:{click:function(s){return t.addImage(t.newImage)}}},[t._v(" Add Image ")]),e("div",{staticClass:"small text-gray-500"},[t._v(" Click on image to delete ")]),e("div",{staticClass:"row"},t._l(t.images,(function(s){return e("div",{key:s.id,staticClass:"col-md-4 mb-3"},[e("img",{staticClass:"card-img-top",attrs:{src:""+s.url,alt:"Card image cap"},on:{click:function(e){return t.destroyImage(s)}}})])})),0)])])])]),e("div",[e("button",{staticClass:"btn btn-primary btn-block text-uppercase mb-3",on:{click:function(s){return t.destroyListing()}}},[t._v(" Delete Listing ")])])])])])])])},Ut=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"py-5",staticStyle:{"background-color":"#b0c4ed"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mx-auto"},[e("h1",{staticClass:"text-white font-weight-light"},[e("span",{staticClass:"font-weight-bold"},[t._v("ResX")]),t._v(" Edit Listing ")])])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"text-center mb-4"},[e("a",{attrs:{href:"/"}},[e("img",{attrs:{src:"/img/logo.svg",alt:""}})]),e("h5",{staticClass:"font-weight-bold mt-3"},[t._v("Edit Listing")]),e("p",{staticClass:"text-muted"},[t._v("Please Remember to Add Images")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("button",{staticClass:"btn btn-primary btn-block text-uppercase mb-3",attrs:{type:"submit"}},[t._v(" Submit ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-group"},[e("label",{staticClass:"mb-1"},[t._v("You agree to the ResX "),e("a",{attrs:{href:"#"}},[t._v("User Agreement")]),t._v(", "),e("a",{attrs:{href:"#"}},[t._v("Privacy Policy")]),t._v(", and "),e("a",{attrs:{href:"#"}},[t._v("Cookie Policy")]),t._v(".")])])}],kt={data:function(){return{editListingParams:{},errors:[],images:[],newImage:{},listingId:""}},created:function(){this.showListing()},methods:{showListing:function(){var t=this;n.a.get("/listings/".concat(this.$route.params.id)).then((function(s){t.editListingParams=s.data,t.images=s.data.images,t.listingId=s.data.id})).catch((function(s){t.errors=s.response.data.errors}))},editListing:function(){var t=this;this.images.length?n.a.patch("/listings/".concat(this.$route.params.id),this.editListingParams).then((function(s){console.log(s.data),t.$router.push("/listings")})).catch((function(s){t.errors=s.response.data.errors})):this.errors=["You must have at least one image to save this listing."]},addImage:function(t){var s=this;n.a.post("/images",{listing_id:this.listingId,url:this.newImage.url}).then((function(e){s.images.push(t),console.log(e.data),s.newImage={}})).catch((function(t){s.errors=t.response.data.errors}))},destroyImage:function(t){var s=this;console.log(t.id),confirm("Are you sure you want to delete this image?")&&n.a.delete("/images/".concat(t.id)).then((function(e){var a=s.images.indexOf(t);s.images.splice(a,1),console.log(e.data)})).catch((function(t){s.errors=t.response.data.errors}))},destroyListing:function(){var t=this;confirm("Are you sure you want to delete this listing?")&&n.a.delete("/listings/".concat(this.$route.params.id)).then((function(s){console.log(s),t.$router.push("/listings")})).catch((function(t){console.log(t.response)}))}}},$t=kt,It=Object(d["a"])($t,Pt,Ut,!1,null,null,null),Lt=It.exports;a["a"].use(v["a"]);var Et=[{path:"/",name:"home",component:C},{path:"/signup",name:"signup",component:U},{path:"/users/:id/edit",name:"users-edit",component:Y},{path:"/logout",name:"logout",component:j},{path:"/users/:id",name:"users-show",component:O},{path:"/conversations",name:"conversation",component:V},{path:"/conversations/:id",name:"conversations-show",component:rt},{path:"/listings",name:"listings",component:mt},{path:"/listings/new",name:"listings-new",component:ht},{path:"/listings/:id/edit",name:"listings-edit",component:Lt},{path:"/listings/:id",name:"listings-show",component:yt}],jt=new v["a"]({mode:"history",base:"/",routes:Et}),St=jt;a["a"].use(G.a),n.a.defaults.baseURL="/";var Nt=localStorage.getItem("jwt");Nt&&(n.a.defaults.headers.common["Authorization"]="Bearer "+Nt),a["a"].config.productionTip=!1,new a["a"]({router:St,render:function(t){return t(u)}}).$mount("#app")},"784e":function(t,s,e){"use strict";e("a73a")},a73a:function(t,s,e){},c640:function(t,s,e){},eca3:function(t,s,e){"use strict";e("c640")}});
//# sourceMappingURL=app.78fcba5a.js.map